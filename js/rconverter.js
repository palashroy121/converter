
/******************************************
    This file is part of Bangla Unicode Web Tools.

    Bangla Unicode Web Tools is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    Bangla Unicode Web Tools is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Bangla Unicode Web Tools; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA





	Contains function to convert
	unicode text to ASCII based text .

	To convert call
	ConvertToASCII(ConvertTo, line)
	where 	'ConvertTo' is the string representing convert to ASCII input,
			   "bijoy" - To convert to bijoy
			   "somewherein" - To convert to somewhere-in-blog text
			   "boisakhi" - To convert to boisakhi
	and 'line' The ASCII encoded string


	Author: S M Mahbub Murshed
	Copyright: S M Mahbub Murshed
	Email: udvranto@yahoo.com
	Version: 1.0.0
	Date: September 10, 2006, XX:XX GMT
*******************************************/






/******************************************
	Array containing Unicode to ASCII map 
	for bijoy
*******************************************/
var uni2bijoy_string_conversion_map = {
	// signs
	"à¥¤":"|",
	"â€˜":"Ã”",
	"â€™":"Ã•",
	"â€œ":"Ã’",
	"â€":"Ã“",

	// <JUKTAKHKHOR>
	"à§à¦°à§à¦¯":"ÂªÂ¨",
	"à¦°â€Œà§à¦¯":"iÂ¨",
	"à¦•à§à¦·à§à¦®":"Â²",
	"à¦•à§à¦•":"Â°",
	"à¦•à§à¦Ÿ":"Â±",
	"à¦•à§à¦¤":"Â³",
	"à¦•à§à¦¬":"KÂ¡",
	"à¦¸à§à¦•à§à¦°":"Â¯Å’",
	"à¦•à§à¦°":"Âµ",
	"à¦•à§à¦²":"KÂ¬",
	"à¦•à§à¦·":"Â¶",
	"à¦•à§à¦¸":"Â·",
	"à¦—à§":"Â¸",
	"à¦—à§à¦§":"Â»",
	"à¦—à§à¦¨":"MÅ“",
	"à¦—à§à¦®":"MÂ¥",
	"à¦—à§à¦²":"MÂ­",
	"à¦—à§à¦°à§":"MÂªy",
	"à¦™à§à¦•":"Â¼",
	"à¦™à§à¦•à§à¦·":"â€¢Â¶",
	"à¦™à§à¦–":"â€¢L",
	"à¦™à§à¦—":"Â½",
	"à¦™à§à¦˜":"â€¢N",
//	"à¦•à§à¦¸":"â€¢",
	"à¦šà§à¦›à§à¦¬":"â€QÂ¡",
	"à¦šà§à¦š":"â€P",
	"à¦šà§à¦›":"â€Q",
	"à¦šà§à¦ž":"â€T",
	"à¦œà§à¦œà§à¦¬":"Â¾Â¡",
	"à¦œà§à¦œ":"Â¾",
	"à¦œà§à¦":"Ã€",
	"à¦œà§à¦ž":"Ã",
	"à¦œà§à¦¬":"RÂ¡",
	"à¦žà§à¦š":"Ã‚",
	"à¦žà§à¦›":"Ãƒ",
	"à¦žà§à¦œ":"Ã„",
	"à¦žà§à¦":"Ã…",
	"à¦Ÿà§à¦Ÿ":"Ã†",
	"à¦Ÿà§à¦¬":"UÂ¡",
	"à¦Ÿà§à¦®":"UÂ¥",
	"à¦¡à§à¦¡":"Ã‡",
	"à¦£à§à¦Ÿ":"Ãˆ",
	"à¦£à§à¦ ":"Ã‰",
	"à¦¨à§à¦¸":"Ã",
	"à¦£à§à¦¡":"ÃŠ",
	"à¦¨à§à¦¤à§":"Å¡â€˜",
	"à¦£à§à¦¬":"Y^",
	"à¦¤à§à¦¤à§à¦¬":"Ã‹Â¡",
	"à¦¤à§à¦¤":"Ã‹",
	"à¦¤à§à¦¥":"ÃŒ",
	"à¦¤à§à¦¨":"ZÅ“",
	"à¦¤à§à¦®":"ZÂ¥",
	"à¦¨à§à¦¤à§à¦¬":"Å¡â€”Â¡",
	"à¦¤à§à¦¬":"ZÂ¡",
	"à¦¥à§à¦¬":"_Â¡",
	"à¦¦à§à¦—":"ËœM",
	"à¦¦à§à¦˜":"ËœN",
	"à¦¦à§à¦¦":"Ã",
	"à¦¦à§à¦§":"Ã—",
	"à¦¦à§à¦¬":"ËœÂ¡",
	"à¦¦à§à¦¬":"Ã˜",
	"à¦¦à§à¦­":"â„¢Â¢",
	"à¦¦à§à¦®":"Ã™",
	"à¦¦à§à¦°à§":"`Âªâ€œ",
	"à¦§à§à¦¬":"aÅ¸",
	"à¦§à§à¦®":"aÂ¥",
	"à¦¨à§à¦Ÿ":"â€ºU",
	"à¦¨à§à¦ ":"Ãš",
	"à¦¨à§à¦¡":"Ã›",
	"à¦¨à§à¦¤à§à¦°":"Å¡Â¿",
	"à¦¨à§à¦¤":"Å¡â€”",
	"à¦¸à§à¦¤à§à¦°":"Â¯Â¿",
	"à¦¤à§à¦°":"ÃŽ",
	"à¦¨à§à¦¥":"Å¡â€™",
	"à¦¨à§à¦¦":"â€º`",
	"à¦¨à§à¦¦à§à¦¬":"â€ºÃ˜",
	"à¦¨à§à¦§":"Ãœ",
	"à¦¨à§à¦¨":"bÅ“",
	"à¦¨à§à¦¬":"Å¡^",
	"à¦¨à§à¦®":"bÂ¥",
	"à¦ªà§à¦Ÿ":"Ãž",
	"à¦ªà§à¦¤":"ÃŸ",
	"à¦ªà§à¦¨":"cÅ“",
	"à¦ªà§à¦ª":"Ã ",
	"à¦ªà§à¦²":"cÂ­",
	"à¦ªà§à¦¸":"Ã¡",
	"à¦«à§à¦²":"dÂ¬",
	"à¦¬à§à¦œ":"Ã¢",
	"à¦¬à§à¦¦":"Ã£",
	"à¦¬à§à¦§":"Ã¤",
	"à¦¬à§à¦¬":"eÅ¸",
	"à¦¬à§à¦²":"eÂ­",
	"à¦­à§à¦°":"Ã¥",
	"à¦®à§à¦¨":"gÅ“",
	"à¦®à§à¦ª":"Â¤Ãº",
	"à¦®à§à¦«":"Ã§",
	"à¦®à§à¦¬":"Â¤^",
	"à¦®à§à¦­":"Â¤Â¢",
	"à¦®à§à¦­à§à¦°":"Â¤Â£",
	"à¦®à§à¦®":"Â¤Â§",
	"à¦®à§à¦²":"Â¤Â­",
	"à§à¦°":"Âª",
	"à¦°à§":"iâ€œ",
	"à¦°à§‚":"iÆ’",
	"à¦²à§à¦•":"Ã©",
	"à¦²à§à¦—":"Ãª",
	"à¦²à§à¦Ÿ":"Ã«",
	"à¦²à§à¦¡":"Ã¬",
	"à¦²à§à¦ª":"Ã­",
	"à¦²à§à¦«":"Ã®",
	"à¦²à§à¦¬":"jÂ¦",
	"à¦²à§à¦®":"jÂ¥",
	"à¦²à§à¦²":"jÂ­",
	"à¦¶à§":"Ã¯",
	"à¦¶à§à¦š":"Ã°",
	"à¦¶à§à¦¨":"kÅ“",
	"à¦¶à§à¦¬":"kÂ¦",
	"à¦¶à§à¦®":"kÂ¥",
	"à¦¶à§à¦²":"kÂ­",
	"à¦·à§à¦•":"Â®â€¹",
	"à¦·à§à¦•à§à¦°":"Â®Å’",
	"à¦·à§à¦Ÿ":"Ã³",
	"à¦·à§à¦ ":"Ã´",
	"à¦·à§à¦£":"Ã²",
	"à¦·à§à¦ª":"Â®Ãº",
	"à¦·à§à¦«":"Ãµ",
	"à¦·à§à¦®":"Â®Â§",
	"à¦¸à§à¦•":"Â¯â€¹",
	"à¦¸à§à¦Ÿ":"Ã·",
	"à¦¸à§à¦–":"Ã¶",
	"à¦¸à§à¦¤":"Â¯â€”",
	"à¦¸à§à¦¤à§":"Â¯â€˜",	
	"à¦¸à§à¦¥":"Â¯â€™",
	"à¦¸à§à¦¨":"mÅ“",
	"à¦¸à§à¦ª":"Â¯Ãº",
	"à¦¸à§à¦«":"Ã¹",
	"à¦¸à§à¦¬":"Â¯^",
	"à¦¸à§à¦®":"Â¯Â§",
	"à¦¸à§à¦²":"Â¯Â­",
	"à¦¹à§":"Ã»",
	"à¦¹à§à¦£":"nÃ¨",
	"à¦¹à§à¦¬":"nÅ¸",
	"à¦¹à§à¦¨":"Ã½",
	"à¦¹à§à¦®":"Ã¾",
	"à¦¹à§à¦²":"nÂ¬",
	"à¦¹à§ƒ":"Ã¼",
	// Hasant char
	"à¦°à§":"Â©",
	// "à§à¦°":"Âª",
	// "à§à¦°":"Ã–",
	"à§à¦°":"Â«",
	"à§à¦¯":"Â¨",
	// "&i":"Âª",
	"à§":"&", 

	// <VOWELS>
	"à¦†":"Av",
	"à¦…":"A",
	"à¦‡":"B",
	"à¦ˆ":"C",
	"à¦‰":"D",
	"à¦Š":"E",
	"à¦‹":"F",
	"à¦":"G",
	"à¦":"H",
	"à¦“":"I",
	"à¦”":"J",

	// <CONSONANTS>
	"à¦•":"K",
	"à¦–":"L",
	"à¦—":"M",
	"à¦˜":"N",
	"à¦™":"O",
	"à¦š":"P",
	"à¦›":"Q",
	"à¦œ":"R",
	"à¦":"S",
	"à¦ž":"T",
	"à¦Ÿ":"U",
	"à¦ ":"V",
	"à¦¡":"W",
	"à¦¢":"X",
	"à¦£":"Y",
	"à¦¤":"Z",
	"à¦¥":"_",
	"à¦¦":"`",
	"à¦§":"a",
	"à¦¨":"b",
	"à¦ª":"c",
	"à¦«":"d",
	"à¦¬":"e",
	"à¦­":"f",
	"à¦®":"g",
	"à¦¯":"h",
	"à¦°":"i",
	"à¦²":"j",
	"à¦¶":"k",
	"à¦·":"l",
	"à¦¸":"m",
	"à¦¹":"n",
	"à§œ":"o",
	"à§":"p",
	"à§Ÿ":"q",
	"à§Ž":"r",

	// <DIGITS>
	"à§¦":"0",
	"à§§":"1",
	"à§¨":"2",
	"à§©":"3",
	"à§ª":"4",
	"à§«":"5",
	"à§¬":"6",
	"à§­":"7",
	"à§®":"8",
	"à§¯":"9",

	// Kars
	// "à§‹":"â€¡v",
	// "à§Œ":"â€¡Å ",
	"à¦¾":"v",
	"à¦¿":"w",
	"à§€":"x",
	"à§":"y",
	// "à§":"z",
	"à§‚":"~",
	// "à§ƒ":"â€ž",
	"à§ƒ":"â€¦",
	"à§‡":"â€¡",
	// "à§‡":"â€ ",
	"à§ˆ":"â€°",
	// "à§ˆ":"Ë†",
	"à§—":"Å ",

	 // Nukta
 	"à¦‚":"s",
 	"à¦ƒ":"t",
	"à¦":"u"

}; // end uni2bijoy_string_conversion_map
/******************************************/





/******************************************
	Array containing Unicode to ASCII map 
	for somewhere-in-text
*******************************************/
var uni2somewherein_string_conversion_map = {
	// signs
	"à¥¤":"|",
	"â€˜":"Ã”",
	"â€™":"Ã•",
	"â€œ":"Ã’",
	"â€":"Ã“",

	// <JUKTAKHKHOR>
	"à§à¦°à§à¦¯":"ÂªÂ¨",
	"à¦°â€Œà§à¦¯":"iÂ¨",
	"à¦•à§à¦·à§à¦®":"Â²",
	"à¦•à§à¦•":"Â°",
	"à¦•à§à¦Ÿ":"Â±",
	"à¦•à§à¦¤":"Â³",
	"à¦•à§à¦¬":"KÂ¡",
	"à¦¸à§à¦•à§à¦°":"Â¯Å’",
	"à¦•à§à¦°":"Âµ",
	"à¦•à§à¦²":"KÂ¬",
	"à¦•à§à¦·":"Â¶",
	"à¦•à§à¦¸":"Â·",
	"à¦—à§":"Â¸",
	"à¦—à§à¦§":"Â»",
	"à¦—à§à¦¨":"MÅ“",
	"à¦—à§à¦®":"MÂ¥",
	"à¦—à§à¦²":"MÂ­",
	"à¦—à§à¦°à§":"MÂªy",
	"à¦™à§à¦•":"Â¼",
	"à¦™à§à¦•à§à¦·":"â€¢Â¶",
	"à¦™à§à¦–":"â€¢L",
	"à¦™à§à¦—":"Â½",
	"à¦™à§à¦˜":"â€¢N",
//	"à¦•à§à¦¸":"â€¢",
	"à¦šà§à¦›à§à¦¬":"â€QÂ¡",
	"à¦šà§à¦š":"â€P",
	"à¦šà§à¦›":"â€Q",
	"à¦šà§à¦ž":"â€T",
	"à¦œà§à¦œà§à¦¬":"Â¾Â¡",
	"à¦œà§à¦œ":"Â¾",
	"à¦œà§à¦":"Ã€",
	"à¦œà§à¦ž":"Ã",
	"à¦œà§à¦¬":"RÂ¡",
	"à¦žà§à¦š":"Ã‚",
	"à¦žà§à¦›":"Ãƒ",
	"à¦žà§à¦œ":"Ã„",
	"à¦žà§à¦":"Ã…",
	"à¦Ÿà§à¦Ÿ":"Ã†",
	"à¦Ÿà§à¦¬":"UÂ¡",
	"à¦Ÿà§à¦®":"UÂ¥",
	"à¦¡à§à¦¡":"Ã‡",
	"à¦£à§à¦Ÿ":"Ãˆ",
	"à¦£à§à¦ ":"Ã‰",
	"à¦¨à§à¦¸":"Ã",
	"à¦£à§à¦¡":"ÃŠ",
	"à¦¨à§à¦¤à§":"Å¡â€˜",
	"à¦£à§à¦¬":"Y^",
	"à¦¤à§à¦¤à§à¦¬":"Ã‹Â¡",
	"à¦¤à§à¦¤":"Ã‹",
	"à¦¤à§à¦¥":"ÃŒ",
	"à¦¤à§à¦®":"ZÂ¥",
	"à¦¤à§à¦¨":"ZÅ“",
	"à¦¨à§à¦¤à§à¦¬":"Å¡â€”Â¡",
	"à¦¤à§à¦¬":"ZÂ¡",
	"à¦¥à§à¦¬":"_Â¡",
	"à¦¦à§à¦—":"ËœM",
	"à¦¦à§à¦˜":"ËœN",
	"à¦¦à§à¦¦":"Ã",
	"à¦¦à§à¦§":"Ã—",
	"à¦¦à§à¦¬":"ËœÂ¡",
	"à¦¦à§à¦¬":"Ã˜",
	"à¦¦à§à¦­":"â„¢Â¢",
	"à¦¦à§à¦®":"Ã™",
	"à¦¦à§à¦°à§":"`Âªâ€œ",
	"à¦§à§à¦¬":"aÅ¸",
	"à¦§à§à¦®":"aÂ¥",
	"à¦¨à§à¦Ÿ":"â€ºU",
	"à¦¨à§à¦¡":"Ã›",
	"à¦¨à§à¦¤à§à¦°":"Å¡Â¿",
	"à¦¨à§à¦¤":"Å¡â€”",
	"à¦¸à§à¦¤à§à¦°":"Â¯Â¿",
	"à¦¤à§à¦°":"ÃŽ",
	"à¦¨à§à¦¥":"Å¡â€™",
	"à¦¨à§à¦¦":"â€º`",
	"à¦¨à§à¦¦à§à¦¬":"â€ºÃ˜",
	"à¦¨à§à¦§":"Ãœ",
	"à¦¨à§à¦¨":"bÅ“",
	"à¦¨à§à¦¬":"Å¡^",
	"à¦¨à§à¦®":"bÂ¥",
	"à¦ªà§à¦Ÿ":"Ãž",
	"à¦ªà§à¦¤":"ÃŸ",
	"à¦ªà§à¦¨":"cÅ“",
	"à¦ªà§à¦ª":"Ã ",
	"à¦ªà§à¦²":"cÂ­",
	"à¦ªà§à¦¸":"Ã¡",
	"à¦«à§à¦²":"dÂ¬",
	"à¦¬à§à¦œ":"Ã¢",
	"à¦¬à§à¦¦":"Ã£",
	"à¦¬à§à¦§":"Ã¤",
	"à¦¬à§à¦¬":"eÅ¸",
	"à¦¬à§à¦²":"eÂ­",
	"à¦­à§à¦°":"Ã¥",
	"à¦®à§à¦¨":"gÅ“",
	"à¦®à§à¦ª":"Â¤Ãº",
	"à¦®à§à¦«":"Ã§",
	"à¦®à§à¦¬":"Â¤^",
	"à¦®à§à¦­":"Â¤Â¢",
	"à¦®à§à¦­à§à¦°":"Â¤Â£",
	"à¦®à§à¦®":"Â¤Â§",
	"à¦®à§à¦²":"Â¤Â­",
	"à§à¦°":"Âª",	
	"à¦°à§":"iâ€œ",
	"à¦°à§‚":"iÆ’",
	"à¦²à§à¦•":"Ã©",
	"à¦²à§à¦—":"Ãª",
	"à¦²à§à¦Ÿ":"Ã«",
	"à¦²à§à¦¡":"Ã¬",
	"à¦²à§à¦ª":"Ã­",
	"à¦²à§à¦«":"Ã®",
	"à¦²à§à¦¬":"jÂ¦",
	"à¦²à§à¦®":"jÂ¥",
	"à¦²à§à¦²":"jÂ­",
	"à¦¶à§":"Ã¯",
	"à¦¶à§à¦š":"Ã°",
	"à¦¶à§à¦¨":"kÅ“",
	"à¦¶à§à¦¬":"kÂ¦",
	"à¦¶à§à¦®":"kÂ¥",
	"à¦¶à§à¦²":"kÂ­",
	"à¦·à§à¦•":"Â®â€¹",
	"à¦·à§à¦•à§à¦°":"Â®Å’",
	"à¦·à§à¦Ÿ":"Ã³",
	"à¦·à§à¦ ":"Ã´",
	"à¦·à§à¦£":"Ã²",
	"à¦·à§à¦ª":"Â®Ãº",
	"à¦·à§à¦«":"Ãµ",
	"à¦·à§à¦®":"Â®Â§",
	"à¦¸à§à¦•":"Â¯â€¹",
	"à¦¸à§à¦Ÿ":"Ã·",
	"à¦¸à§à¦–":"Ã¶",
	"à¦¸à§à¦¤":"Â¯â€”",
	"à¦¸à§à¦¤à§":"Â¯â€˜",
	"à¦¸à§à¦¥":"Â¯â€™",
	"à¦¸à§à¦¨":"mÅ“",
	"à¦¸à§à¦ª":"Â¯Ãº",
	"à¦¸à§à¦«":"Ã¹",
	"à¦¸à§à¦¬":"Â¯^",
	"à¦¸à§à¦®":"Â¯Â§",
	"à¦¸à§à¦²":"Â¯Â­",
	"à¦¹à§à¦£":"nÃ¨",
	"à¦¹à§à¦¬":"nÅ¸",
	"à¦¹à§à¦¨":"Ã½",
	"à¦¹à§à¦®":"Ã¾",
	"à¦¹à§":"Ã»",
	"à¦¹à§à¦²":"nÂ¬",
	"à¦¹à§ƒ":"Ã¼",
	"à¦°à§":"Â©",
	// "à§à¦°":"Âª",
	"à§à¦°":"Ã–",
	// "à§à¦°":"Â«",
	"à§à¦¯":"Â¨",
	"à§":"&",

	// <VOWELS>
	"à¦†":"Av",
	"à¦…":"A",
	"à¦‡":"B",
	"à¦ˆ":"C",
	"à¦‰":"D",
	"à¦Š":"E",
	"à¦‹":"F",
	"à¦":"G",
	"à¦":"H",
	"à¦“":"I",
	"à¦”":"J",

	// <CONSONANTS>
	"à¦•":"K",
	"à¦–":"L",
	"à¦—":"M",
	"à¦˜":"N",
	"à¦™":"O",
	"à¦š":"P",
	"à¦›":"Q",
	"à¦œ":"R",
	"à¦":"S",
	"à¦ž":"T",
	"à¦Ÿ":"U",
	"à¦ ":"V",
	"à¦¡":"W",
	"à¦¢":"X",
	"à¦£":"Y",
	"à¦¤":"Z",
	"à¦¥":"_",
	"à¦¦":"`",
	"à¦§":"a",
	"à¦¨":"b",
	"à¦ª":"c",
	"à¦«":"d",
	"à¦¬":"e",
	"à¦­":"f",
	"à¦®":"g",
	"à¦¯":"h",
	"à¦°":"i",
	"à¦²":"j",
	"à¦¶":"k",
	"à¦·":"l",
	"à¦¸":"m",
	"à¦¹":"n",
	"à§œ":"o",
	"à§":"p",
	"à§Ÿ":"q",
	"à§Ž":"r",

	// <DIGITS>
	"à§¦":"0",
	"à§§":"1",
	"à§¨":"2",
	"à§©":"3",
	"à§ª":"4",
	"à§«":"5",
	"à§¬":"6",
	"à§­":"7",
	"à§®":"8",
	"à§¯":"9",

	// Kars
	// "à§‹":"â€¡v",
	// "à§Œ":"â€¡Å ",
	"à¦¾":"v",
	"à¦¿":"w",
	"à§€":"x",
	"à§":"y",
	// "à§":"z",
	"à§‚":"~",
	"à§ƒ":"â€ž",
	// "à§ƒ":"â€¦",
	"à§‡":"â€¡",
	"à§ˆ":"â€°",
	// "à§ˆ":"Ë†",
	"à§—":"Å ",
	 
	 // Complex
 	"à¦‚":"s",
 	"à¦ƒ":"t",
	"à¦":"u"

}; // end uni2somewherein_string_conversion_map
/******************************************/





/******************************************
	Array containing Unicode to ASCII map 
	for boisakhi
*******************************************/
var uni2boisakhi_string_conversion_map = {
	// <JUKTAKHKHOR>
	"à§à¦°à§à¦¯":"Ã›Ã¸",
	"à¦°â€Œà§à¦¯":"kÃ¸",
	"à¦•à§à¦·à§à¦®":"qÃ´",
	"à¦•à§à¦•":"~",
	"à¦•à§à¦Ÿ":"Æ’",
	"à¦•à§à¦¤":"Â£ÃŸ",
	"à¦•à§à¦¬":"KÃ²",
	"à¦¸à§à¦•à§à¦°":"Ã‡",
	"à¦•à§à¦°":"Â¢ÃŸ",
	"à¦•à§à¦·à§à¦®":"qÃ´",
	"à¦•à§à¦·":"q",
	"à¦•à§à¦¸":"â€¦",
	"à¦•à§à¦²":"KÃµ",
	"à¦—à§":"â€ ",
	"à¦—à§à¦—":"â€¡",
	"à¦—à§à¦§":"Ë†",
	"à¦—à§à¦¨":"MÃ­",
	"à¦—à§à¦®":"MÃ´",
	"à¦—à§à¦²":"MÃ¶",
	"à¦™à§à¦•":"â€°",
	"à¦™à§à¦•à§à¦·":"Ã¡q",
	"à¦™à§à¦–":"Ã¡L",
	"à¦™à§à¦—":"Å ",
	"à¦™à§à¦˜":"Ã¡N",
	"à¦šà§à¦›à§à¦¬":"Ã¢QÃ²",
	"à¦šà§à¦š":"Ã¢P",
	"à¦šà§à¦›":"Ã¢Q",
	"à¦œà§à¦œà§à¦¬":"Å’Ã²",
	"à¦œà§à¦œ":"Å’",
	"à¦œà§à¦ž":"Å¡",
	"à¦œà§à¦¬":"RÃ²",
	"à¦žà§à¦š":"Ã©",
	"Ëœ":"à¦žà§à¦›",
	"à¦žà§à¦œ":"â„¢",
	"à¦žà§à¦":"Ã£",
	"à¦Ÿà§à¦Ÿ":"â€º",
	"à¦Ÿà§à¦¬":"UÃ²",
	"à¦Ÿà§à¦®":"UÃ´",
	"à¦¡à§à¦¡":"Å“",
	"à¦£à§à¦ ":"Å¸",
	"à¦¨à§à¦ ":"Âª",
	"à¦¨à§à¦¸":"Ã",
	"à¦£à§à¦¡":"Â¡",
	"à¦¨à§à¦¤à§à¦¬":"Ã¬Ã²Ã¦",
	"à¦¨à§à¦¤à§":"Å¡â€˜",
	"à¦¨à§à¦¤à§":"Ã¬Ã§",
	"à¦£à§à¦¬":"YÃ°",
	"à¦¤à§à¦¤à§à¦¬":"Â£Ã²",
	"à¦¤à§à¦¥":"Â¤",
	"à¦¤à§à¦¨":"ZÃ­",
	"à¦¤à§à¦®":"Â£Ã´",
	"à¦¤à§à¦®":"ZÃ´",
	"à¦¤à§à¦¤":"Â£",
	"à¦¤à§à¦¬":"ZÃ²",
	"à¦¥à§à¦¬":"aÃ²",
	"à¦¦à§à¦¦":"Â¥",
	"à¦¦à§à¦§":"Â¦",
	"à¦¦à§à¦¬":"Â§",
	"à¦¦à§à¦­":"Â¨",
	"à¦¦à§à¦®":"bÃ´",
	"à¦§à§à¦¬":"cÂµ",
	"à¦¨à§à¦Ÿ":"Ã«U",
	"à¦¨à§à¦Ÿ":"Ã¥U",
	"à¦¨à§à¦¡":"Â«",
	"à¦¨à§à¦¤à§à¦°":"Ã¬Ã¨",
	"à¦¨à§à¦¤":"Ã¬Ã¦",
	"à¦¸à§à¦¤à§à¦°":"Ã¾Ã¨",
	"à¦¤à§à¦°":"Â¢",
	"à¦¨à§à¦¦":"Ã«b",
	"à¦¨à§à¦¦à§à¦¬":"Ã«Â§",
	"à¦¨à§à¦§":"Â¬",
	"à¦¨à§à¦§":"Ã«c",
	"à¦¨à§à¦¨":"Ã’",
	"à¦¨à§à¦¨":"dÃ­",
	"à¦¨à§à¦¬":"Ã¬Ã±",
	"à¦¨à§à¦¥":"Ã¬Ã¿",
	"à¦¨à§à¦®":"dÃ´",
	"à¦¨à§à¦¸":"Ã«o",
	"à¦ªà§à¦Ÿ":"Ã¯U",
	"à¦ªà§à¦¤":"Â®",
	"à¦ªà§à¦¨":"eÃ­",
	"à¦ªà§à¦ª":"Â¯",
	"à¦ªà§à¦²":"eÃ¶",
	"à¦«à§à¦²":"dÂ¬",
	"à¦¬à§à¦œ":"Â±",
	"à¦¬à§à¦¦":"Â²",
	"à¦¬à§à¦§":"Â³",
	"à¦¬à§à¦¬":"gÂµ",
	"à¦¬à§à¦²":"gÃ¶",
	"à¦®à§à¦­à§à¦°":"Â»",
	// "à¦®à§à¦­à§à¦°":"Ã³Â¸",
	"à¦­à§à¦°":"Â¸",
	"à¦®à§à¦¨":"iÃ­",
	"à¦®à§à¦ª":"Ã³e",
	"à¦®à§à¦«":"Ã³f",
	"à¦®à§à¦¬":"Â¹",
	"à¦®à§à¦­":"Âº",
	"à¦®à§à¦®":"Ã³i",
	"à¦®à§à¦²":"Ã³Ã¶",
//	"à¦°à§":"kÃ˜",
//	"à¦°à§‚":"kÃ•",
	"à¦²à§à¦•":"Â¿",
	"à¦²à§à¦—":"Ã¹M",
	"à¦²à§à¦Ÿ":"Ã¹U",
	"à¦²à§à¦¡":"Ã€",
	"à¦²à§à¦ª":"Ã¹e",
	"à¦²à§à¦«":"Ã¹f",
	"à¦²à§à¦¬":"lÃ°",
	"à¦²à§à¦®":"lÃ´",
	"à¦²à§à¦²":"Ã",
	// "à¦²à§à¦²":"lÃ¶",
	// "à¦²à§à¦²":"lÃµ",
	"à¦¶à§":"Ã‚",
	"à¦¶à§à¦š":"ÃºP",
	"à¦¶à§à¦¨":"mÃ­",
	"à¦¶à§à¦¬":"mÃ°",
	"à¦¶à§à¦®":"mÃ´",
	"à¦¶à§à¦²":"mÃ¶",
	"à¦·à§à¦•":"Ã»K",
	"à¦·à§à¦•à§à¦°":"Ã»Â¢ÃŸ",
	"à¦·à§à¦Ÿ":"Ã„",
	"à¦·à§à¦ ":"Ã…",
	"à¦·à§à¦ª":"Ã»e",
	"à¦·à§à¦«":"Ã¼f",
	"à¦·à§à¦®":"Ã»Ã´",
	"à¦¸à§à¦•":"Ã†",
	"à¦¸à§à¦–":"Ã½L",
	"à¦¸à§à¦Ÿ":"Ã½U",
	"à¦¸à§à¦¥":"Ã¾Ã¿",
	"à¦¸à§à¦¤":"Ã¾Ã¦",
	"à¦¸à§à¦¤à§":"Ã¾Ã§",
	"à¦¸à§à¦¨":"Ã¾Ã­",
	"à¦¸à§à¦ª":"Ã¾e",
	"à¦¸à§à¦«":"Ã½f",
	"à¦¸à§à¦¬":"Ãˆ",
	"à¦¸à§à¦¬":"Ã¾Ã±",
	"à¦¸à§à¦®":"Ã¾Ã´",
	"à¦¹à§":"Ã‰",
	"à¦¹à§à¦£":"pÃ®",
	"à¦¹à§à¦¨":"pÃŸ",
	"à¦¹à§à¦¬":"pÂµ",
	"à¦¹à§à¦®":"ÃŠ",
	"à¦¹à§à¦²":"nÂ¬",
	"à¦¹à§à¦²":"pÃµ",
	"à¦¹à§ƒ":"pÃ•",
	"à¦¬":"Ã²",

	 // Complex
	"à¦°à§":"Ãª",
	"à§à¦°":"Ãž",
	// "à§à¦°":"Ã›",
	"à§à¦¯":"Ã¸",
	"à§":"z",

	// <VOWELS>
	"à¦†":"Aw",
	"à¦…":"A",
	"à¦‡":"B",
	"à¦ˆ":"C",
	"à¦‰":"D",
	"à¦Š":"E",
	"à¦‹":"F",
	"à¦":"G",
	"à¦":"H",
	"à¦“":"I",
	"à¦”":"J",

	// <CONSONANTS>
	"à¦•":"K",
	"à¦–":"L",
	"à¦—":"M",
	"à¦˜":"N",
	"à¦™":"O",
	"à¦š":"P",
	"à¦›":"Q",
	"à¦œ":"R",
	"à¦":"S",
	"à¦ž":"T",
	"à¦Ÿ":"U",
	"à¦ ":"V",
	"à¦¡":"W",
	"à¦¢":"X",
	"à¦£":"Y",
	"à¦¤":"Z",
	"à¦¥":"Â¤",
	"à¦¦":"b",
	"à¦§":"c",
	"à¦¨":"d",
	"à¦ª":"e",
	"à¦«":"f",
	"à¦¬":"g",
	"à¦­":"h",
	"à¦®":"i",
	"à¦¯":"j",
	"à¦°":"k",
	"à¦²":"l",
	"à¦¶":"m",
	"à¦·":"n",
	"à¦¸":"o",
	"à¦¹":"p",
	"à§œ":"r",
	"à§":"s",
	"à§Ÿ":"t",
	"à¦¥":"a",
	"à§Ž":"u",
 	"à¦‚":"v",
	"à¦":"^",
	"à¦ƒ":"\:",

	// <DIGITS>
	"à§¦":"0",
	"à§§":"1",
	"à§¨":"2",
	"à§©":"3",
	"à§ª":"4",
	"à§«":"5",
	"à§¬":"6",
	"à§­":"7",
	"à§®":"8",
	"à§¯":"9",

	// Kars
	// "à§‹":"Ã‹w",
	// "à§Œ":"Ã‹#",
	"à¦¾":"w",
	"à¦¿":"x",
	"à§€":"y",
	"à§":"Ã—",
	// "à§":"Ã–",
	// "à§":"Ã˜",
	"à§‚":"Ã”",
	// "à§‚":"Ã•",
	// "à§‚":"Ã™",
	// "à§‚":"Ã“",
	"à§ƒ":"Ãš",
	"à§‡":"Ã‹",
	// "à§‡":"ÃŒ",
	"à§ˆ":"Ã",
	// "à§ˆ":"Ã‘",
	// "à§ˆ":"Ë†",
	"à§—":"#",

	// signs
	"à¥¤":"â€ž"
	 
}; // end uni2boisakhi_string_conversion_map
/******************************************/












/******************************************
	Array containing Unicode to ASCII map 
	for bangsee
*******************************************/
var uni2bangsee_string_conversion_map = {
	// <JUKTAKHKHOR>
	"à§à¦°à§à¦¯":"Ã›Ã¸",
	"à¦°â€Œà§à¦¯":"kÃ¸",

	// <VOWELS>
	"à¦…":"A",

	// <CONSONANTS>
	"à¦•":"K",

	// <DIGITS>
	"à§¦":"0",

	// Kars
	"à¦¾":"w",

	// signs
	"à¥¤":"â€ž"
	 
}; // end uni2bangsee_string_conversion_map
/******************************************/

















/******************************************
	Rearranges the folas, kars in a 
	unicode string before mapping
	to ASCII.

	\param str The unicode string

	Coded by : S M Mahbub Murshed
	Date: September 10, 2006
******************************************/
function ReArrangeUnicodeText(str)
{
	var barrier = 0;
    for (var i=0; i<str.length; i++)
    {
	// Change pre-kar to pre format suitable for ascii
        if (i < str.length && IsBanglaPreKar(str.charAt(i)))
        {
            var j = 1;
            while(IsBanglaBanjonborno(str.charAt(i-j)))
            {
            	if(i-j<0)
            		break;
		if(i-j<=barrier) break;		
            	if(IsBanglaHalant(str.charAt(i-j-1)))
            		j += 2;
            	else
	            	break;
            }
            var temp = str.substring(0, i-j);
            temp += str.charAt(i);
            temp += str.substring(i-j, i);
            temp += str.substring(i+1, str.length);
            str = temp;
	    barrier = i+1;
	    continue;
       }
/*
        // for 'HALANT + Consonant + Vowel'
        // it should be 'Vowel + HALANT + Consonant'
        if (i > 0 && str.charAt(i) == '\u09CD' && IsBanglaKar(str.charAt(i - 1)) && i < str.length-1)
        {
            var temp = str.substring(0, i-1);
            temp += str.charAt(i - 1);
            temp += str.charAt(i);
            temp += str.charAt(i + 1);
            temp += str.substring(i + 2, str.length);
            str = temp;
		continue;
        }

        // for 'Vowel + RA (\u09B0) + HALANT'
        // it should be 'RA (\u09B0) + HALANT + Vowel'
        if (i > 0 && i < str.length - 1 && str.charAt(i) == '\u09CD' && str.charAt(i-1) == '\u09B0'
            && IsBanglaKar(str.charAt(i + 1)))
        {
            var temp = str.substring(0, i-1);
            temp += str.charAt(i - 1);
            temp += str.charAt(i);
            temp += str.charAt(i + 1);
            temp += str.substring(i + 2, str.length);
            str = temp;
		continue;
        }
*/
        // Change refs
        if (i < str.length - 1 && IsBanglaHalant(str.charAt(i)) && str.charAt(i-1)=='à¦°' && !IsBanglaHalant(str.charAt(i-2)))
        {
            var j = 1;
	    var found_pre_kar = 0;
            while(true)
            {
            	if(IsBanglaBanjonborno(str.charAt(i+j)) && IsBanglaHalant(str.charAt(i+j+1)))
            		j += 2;
            	else if(IsBanglaBanjonborno(str.charAt(i+j)) && IsBanglaPreKar(str.charAt(i+j+1)))
            		{ found_pre_kar = 1; break;}
            	else
	            	break;
            }
            var temp = str.substring(0, i-1);
	    temp += str.substring(i+j+1, i+j+found_pre_kar+1);
            temp += str.substring(i+1, i+j+1);
            temp += str.charAt(i-1);
            temp += str.charAt(i);
            temp += str.substring(i+j+found_pre_kar+1, str.length);
            str = temp;
            i += (j+found_pre_kar);
	    barrier = i+1;
            continue;
        }


	// nukta should be placed after kars
	// if(i<str.length-1 && IsBanglaNukta(str.charAt(i)) && IsBanglaPostKar(str.charAt(i+1)))
/*
	if(i<str.length-1 && str.charAt(i)=='à¦' && IsBanglaPostKar(str.charAt(i+1)))
	{
        	var temp = str.substring(0, i);
		temp += str.charAt(i+1);
        	temp += str.charAt(i);
        	temp += str.substring(i+2,str.length);
        	str = temp;
	}
*/
    }

    return str;
}



// Decimal to hex conversion
var hD="0123456789ABCDEF";
function d2h(d) {
var h = hD.substr(d&15,1);
while(d>15) {d>>=4;h=hD.substr(d&15,1)+h;}
while(h.length <4) h = "0" + h;
return h;
}




/******************************************
	Converts unicode string to html safe
	string.

	\param line The Unicode string

	Coded by : S M Mahbub Murshed
	Date: September 10, 2006
******************************************/
function UnicodeToHTMLSafe(line)
{
	var text = "";
	for(i=0; i<line.length; i++)
	{
		if( IsASCII(line.charCodeAt(i)) )
			text += line.charAt(i);
		else
			text += "&#" + d2h(line.charCodeAt(i),16) + ";";			
	}

	return text;
}





/******************************************
	Converts unicode string to ascii encoded
	string.

	\param ConvertTo String representing convert to ASCII input
			   "bijoy" - To convert to bijoy
			   "somewherein" - To convert to somewhere-in-blog text
			   "boisakhi" - To convert to boisakhi
	\param line The ASCII encoded string

	Coded by : S M Mahbub Murshed
	Date: September 10, 2006
******************************************/
function ConvertToASCII(ConvertTo, line)
{
	var conversion_map = uni2bijoy_string_conversion_map;
	if(ConvertTo=="bijoy")
		conversion_map = uni2bijoy_string_conversion_map;
	else if(ConvertTo=="somewherein")
		conversion_map = uni2somewherein_string_conversion_map;
	else if(ConvertTo=="boisakhi")
		conversion_map = uni2boisakhi_string_conversion_map;
	else if(ConvertTo=="bangsee")
		conversion_map = uni2bangsee_string_conversion_map;
	else if(ConvertTo=="htmlsafe")
		return UnicodeToHTMLSafe(line);
	
	var myRegExp;
	myRegExp = new RegExp("à§‹", "g");
	line = line.replace(myRegExp, "à§‡à¦¾");
	myRegExp = new RegExp("à§Œ", "g");
	line = line.replace(myRegExp, "à§‡à§—");

	line = ReArrangeUnicodeText(line);

	for (var unic in conversion_map)
	{
		myRegExp = new RegExp(unic, "g");
		line = line.replace(myRegExp, conversion_map[unic]);
	}

/*
	if(ConvertTo=="bijoy" || ConvertTo=="somewherein")
	{
		var temp_map = {
			"â€˜":"Ã”",
			"â€™":"Ã•",
			"â€œ":"Ã’",
			"â€":"Ã“"
		};
		for (var unic in temp_map)
		{
			myRegExp = new RegExp(unic, "g");
			line = line.replace(myRegExp, temp_map[unic]);
		}
	}

*/	
	return line;
} // end function ConvertBijoyToUnicode




